<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Installing · MPI.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>MPI.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">MPI.jl</a></li><li class="current"><a class="toctext" href>Installing</a><ul class="internal"><li><a class="toctext" href="#Unix-systems-(OSX-and-Linux)-1">Unix systems (OSX and Linux)</a></li><li><a class="toctext" href="#Windows-1">Windows</a></li></ul></li><li><a class="toctext" href="../usage/">Usage</a></li><li><a class="toctext" href="../functions/">Function reference</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Installing</a></li></ul><a class="edit-page" href="https://github.com/JuliaParallel/MPI.jl/blob/master/docs/src/installing.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Installing</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Installing-1" href="#Installing-1">Installing</a></h1><h2><a class="nav-anchor" id="Unix-systems-(OSX-and-Linux)-1" href="#Unix-systems-(OSX-and-Linux)-1">Unix systems (OSX and Linux)</a></h2><p><a href="http://www.cmake.org/">CMake</a> is used to piece together the MPI wrapper. Currently a shared library MPI installation for C and Fortran is required (tested with <a href="http://www.open-mpi.org/">Open MPI</a> and <a href="http://www.mpich.org/">MPICH</a>). To install MPI.jl using the Julia packaging system, run</p><pre><code class="language-julia">Pkg.update()
Pkg.add(&quot;MPI&quot;)</code></pre><p>Alternatively,</p><pre><code class="language-julia">Pkg.clone(&quot;https://github.com/JuliaParallel/MPI.jl.git&quot;)
Pkg.build()</code></pre><p>which will build and install the wrapper into <code>$HOME/.julia/vX.Y/MPI</code>.</p><h3><a class="nav-anchor" id="Platform-specific-notes:-1" href="#Platform-specific-notes:-1">Platform specific notes:</a></h3><ul><li>If you are trying to build on OSX with Homebrew, the necessary Fortran headers are not included in the OpenMPI bottle.  To workaround this you can build OpenMPI from source: <code>brew install --build-from-source openmpi</code></li></ul><h3><a class="nav-anchor" id="Overriding-compilers-1" href="#Overriding-compilers-1">Overriding compilers</a></h3><p>Currently, MPI.jl relies on CMake for building a few C/Fortran source files needed by the library. Unfortunately, CMake does not follow the <code>PATH</code> variable when determining which compiler to use, which could cause problem if the compiler you want to use does not reside in a standard directory like <code>/usr/bin</code>. You can override CMake&#39;s detection of the compiler by specifying the environment variables <code>CC</code>, <code>CXX</code>, and <code>FC</code> on the command line. The following example forces the compilation process to use the compilers found in the path:</p><pre><code class="language-none">CC=$(which gcc) CXX=$(which g++) FC=$(which gfortran) julia -e &#39;Pkg.add(&quot;MPI&quot;)&#39;</code></pre><h3><a class="nav-anchor" id="Overriding-the-auto-detected-MPI-version-1" href="#Overriding-the-auto-detected-MPI-version-1">Overriding the auto-detected MPI version</a></h3><p>It may be that CMake selects the wrong MPI version, or that CMake fails to correctly detect and configure your MPI implementation. You can override CMake&#39;s mechanism by setting certain environment variables:</p><pre><code class="language-sh">JULIA_MPI_C_LIBRARIES
JULIA_MPI_Fortran_INCLUDE_PATH
JULIA_MPI_Fortran_LIBRARIES</code></pre><p>This will set <code>MPI_C_LIBRARIES</code>, <code>MPI_Fortran_INCLUDE_PATH</code>, and <code>MPI_Fortran_LIBRARIES</code> when calling CMake as described in its <a href="http://www.cmake.org/cmake/help/v3.3/module/FindMPI.html">FindMPI</a> module. You can set these variables either in your shell startup file, or e.g. via your <code>~/.juliarc</code> file. Here is an example:</p><pre><code class="language-Julia">ENV[&quot;JULIA_MPI_C_LIBRARIES&quot;] = &quot;-L/opt/local/lib/openmpi-gcc5 -lmpi&quot;
ENV[&quot;JULIA_MPI_Fortran_INCLUDE_PATH&quot;] = &quot;/opt/local/include&quot;
ENV[&quot;JULIA_MPI_Fortran_LIBRARIES&quot;] = &quot;-L/opt/local/lib/openmpi-gcc5 -lmpi_usempif08 -lmpi_mpifh -lmpi&quot;</code></pre><p>You can set other configuration variables as well (by adding a <code>JULIA_</code> prefix); the full list of variables currently supported is</p><pre><code class="language-sh">MPI_C_COMPILER
MPI_C_COMPILE_FLAGS
MPI_C_INCLUDE_PATH
MPI_C_LINK_FLAGS
MPI_C_LIBRARIES
MPI_Fortran_COMPILER
MPI_Fortran_COMPILE_FLAGS
MPI_Fortran_INCLUDE_PATH
MPI_Fortran_LINK_FLAGS
MPI_Fortran_LIBRARIES
MPI_INCLUDE_PATH
MPI_LIBRARIES</code></pre><h2><a class="nav-anchor" id="Windows-1" href="#Windows-1">Windows</a></h2><p>You need to install the <a href="https://docs.microsoft.com/en-us/message-passing-interface/microsoft-mpi">Microsoft MPI</a> runtime on your system (the SDK is not required). Then simply add/build the MPI.jl package with</p><pre><code class="language-julia">Pkg.update()
Pkg.add(&quot;MPI&quot;)</code></pre><p>If you would like to wrap an MPI function on Windows, keep in mind you may need to add its signature to <code>src/win_mpiconstants.jl</code>.</p><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">MPI.jl</span></a><a class="next" href="../usage/"><span class="direction">Next</span><span class="title">Usage</span></a></footer></article></body></html>
